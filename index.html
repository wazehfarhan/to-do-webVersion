<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NexusTasks | Modern To-Do List</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>✅</text></svg>">
</head>
<body>
    <!-- Sound Effect (Hidden) -->
    <audio id="addSound" preload="auto">
        <source src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEAQB8AAEAfAAABAAgAZGF0YQAAAAA=" type="audio/wav">
    </audio>
    <audio id="completeSound" preload="auto">
        <source src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEAQB8AAEAfAAABAAgAZGF0YQAAAAA=" type="audio/wav">
    </audio>
    <audio id="deleteSound" preload="auto">
        <source src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEAQB8AAEAfAAABAAgAZGF0YQAAAAA=" type="audio/wav">
    </audio>

    <div class="container">
        <!-- Header -->
        <header class="header glass-card">
            <div class="logo">
                <i class="fas fa-check-double"></i>
                <h1>Nexus<span>Tasks</span></h1>
            </div>
            <div class="header-controls">
                <div class="sound-toggle">
                    <i class="fas fa-volume-up"></i>
                    <label class="switch">
                        <input type="checkbox" id="soundToggle" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="notification-toggle">
                    <i class="fas fa-bell"></i>
                    <label class="switch">
                        <input type="checkbox" id="notificationToggle">
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="theme-selector">
                    <button class="theme-btn" data-theme="light" title="Light Mode">
                        <i class="fas fa-sun"></i>
                    </button>
                    <button class="theme-btn" data-theme="dark" title="Dark Mode">
                        <i class="fas fa-moon"></i>
                    </button>
                </div>
                <div class="color-picker">
                    <span class="color-option" data-color="blue" style="background-color: #4f46e5;"></span>
                    <span class="color-option" data-color="purple" style="background-color: #8b5cf6;"></span>
                    <span class="color-option" data-color="green" style="background-color: #10b981;"></span>
                    <span class="color-option" data-color="orange" style="background-color: #f59e0b;"></span>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Left Panel - Stats & Controls -->
            <aside class="sidebar">
                <!-- Stats Cards -->
                <div class="stats-section">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-tasks"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Total Tasks</h3>
                            <p id="totalTasks" class="stat-value">0</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Completed</h3>
                            <p id="completedTasks" class="stat-value">0</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Pending</h3>
                            <p id="pendingTasks" class="stat-value">0</p>
                        </div>
                    </div>
                </div>

                <!-- Progress Bar -->
                <div class="progress-container glass-card">
                    <div class="progress-header">
                        <h3>Progress</h3>
                        <span id="progressPercent">0%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="quick-actions glass-card">
                    <h3>Quick Actions</h3>
                    <div class="export-options">
                        <button id="exportJsonBtn" class="btn-secondary">
                            <i class="fas fa-file-code"></i> Export JSON
                        </button>
                        <button id="exportExcelBtn" class="btn-secondary">
                            <i class="fas fa-file-excel"></i> Export Excel
                        </button>
                    </div>
                    <div class="import-options">
                        <button id="importJsonBtn" class="btn-secondary">
                            <i class="fas fa-file-upload"></i> Import JSON
                        </button>
                        <button id="importExcelBtn" class="btn-secondary">
                            <i class="fas fa-file-excel"></i> Import Excel
                        </button>
                    </div>
                    <button id="clearCompletedBtn" class="btn-secondary">
                        <i class="fas fa-check-double"></i> Clear Completed
                    </button>
                    <button id="clearAllBtn" class="btn-danger">
                        <i class="fas fa-trash"></i> Clear All
                    </button>
                </div>

                <!-- Calendar View -->
                <div class="calendar-container glass-card">
                    <div class="calendar-header">
                        <h3 id="calendarMonth">This Week</h3>
                        <div class="calendar-nav">
                            <button id="prevWeekBtn" class="btn-icon" aria-label="Previous week">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <button id="nextWeekBtn" class="btn-icon" aria-label="Next week">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                    <div class="calendar-week" id="calendarWeek">
                        <!-- Calendar days will be populated by JS -->
                    </div>
                </div>
            </aside>

            <!-- Right Panel - Tasks -->
            <section class="tasks-section">
                <!-- Search & Filter Bar -->
                <div class="controls-bar glass-card">
                    <div class="search-container">
                        <i class="fas fa-search"></i>
                        <input type="text" id="searchInput" placeholder="Search tasks..." aria-label="Search tasks">
                        <button id="voiceSearchBtn" class="voice-btn" title="Voice Search">
                            <i class="fas fa-microphone"></i>
                        </button>
                    </div>
                    <div class="filter-sort-controls">
                        <div class="filter-controls">
                            <button class="filter-btn active" data-filter="all" aria-label="Show all tasks">All</button>
                            <button class="filter-btn" data-filter="pending" aria-label="Show pending tasks">Pending</button>
                            <button class="filter-btn" data-filter="completed" aria-label="Show completed tasks">Completed</button>
                        </div>
                        <div class="sort-controls">
                            <label for="sortSelect" class="sr-only">Sort tasks by</label>
                            <select id="sortSelect" aria-label="Sort tasks by">
                                <option value="priority">Priority</option>
                                <option value="date">Date Added</option>
                                <option value="dueDate">Due Date</option>
                                <option value="alphabetical">Alphabetical</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Add Task Form -->
                <div class="add-task-form glass-card">
                    <div class="form-header">
                        <h3>Add New Task</h3>
                        <button id="toggleFormBtn" class="btn-icon" aria-label="Toggle form">
                            <i class="fas fa-chevron-down"></i>
                        </button>
                    </div>
                    <div class="form-content" id="formContent">
                        <div class="form-row">
                            <input type="text" id="taskTitle" placeholder="Task title" required aria-label="Task title">
                            <select id="taskPriority" aria-label="Task priority">
                                <option value="low">Low Priority</option>
                                <option value="medium" selected>Medium Priority</option>
                                <option value="high">High Priority</option>
                            </select>
                        </div>
                        <div class="form-row">
                            <input type="date" id="taskDueDate" aria-label="Due date">
                            <button type="button" id="addTaskBtn" class="btn-primary">
                                <i class="fas fa-plus"></i> Add Task
                            </button>
                        </div>
                        <div class="form-row">
                            <textarea id="taskDescription" placeholder="Task description (optional)" 
                                     rows="3" aria-label="Task description"></textarea>
                        </div>
                    </div>
                </div>

                <!-- Task List -->
                <div class="tasks-container glass-card">
                    <div class="tasks-header">
                        <h2>Your Tasks</h2>
                        <div class="tasks-count">
                            <span id="visibleTasksCount">0</span> tasks shown
                        </div>
                    </div>
                    <div class="task-list" id="taskList" aria-label="Task list">
                        <!-- Empty State -->
                        <div class="empty-state" id="emptyState">
                            <div class="empty-icon">
                                <i class="fas fa-clipboard-list"></i>
                            </div>
                            <h3>No tasks yet</h3>
                            <p>Add your first task to get started!</p>
                            <div class="empty-animation">
                                <div class="circle"></div>
                                <div class="circle"></div>
                                <div class="circle"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer glass-card">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>NexusTasks</h4>
                    <p>A modern, feature-rich to-do list application built with HTML, CSS, and JavaScript.</p>
                    <div class="footer-links">
                        <a href="#" class="footer-link">About</a>
                        <a href="#" class="footer-link">Features</a>
                        <a href="#" class="footer-link">GitHub</a>
                        <a href="#" class="footer-link">Contact</a>
                    </div>
                </div>
                <div class="footer-section">
                    <h4>Quick Stats</h4>
                    <div class="footer-stats">
                        <div class="footer-stat">
                            <span class="stat-label">Total Tasks:</span>
                            <span id="footerTotalTasks" class="stat-value">0</span>
                        </div>
                        <div class="footer-stat">
                            <span class="stat-label">Completed:</span>
                            <span id="footerCompletedTasks" class="stat-value">0</span>
                        </div>
                        <div class="footer-stat">
                            <span class="stat-label">Pending:</span>
                            <span id="footerPendingTasks" class="stat-value">0</span>
                        </div>
                    </div>
                </div>
                <div class="footer-section">
                    <h4>Export/Import</h4>
                    <p>Export your tasks in multiple formats or import from existing files.</p>
                    <div class="footer-buttons">
                        <button id="footerExportBtn" class="btn-secondary">
                            <i class="fas fa-download"></i> Export
                        </button>
                        <button id="footerImportBtn" class="btn-secondary">
                            <i class="fas fa-upload"></i> Import
                        </button>
                    </div>
                </div>
                <div class="footer-section">
                    <h4>Connect</h4>
                    <div class="social-links">
                        <a href="#" class="social-link" aria-label="Twitter">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="social-link" aria-label="GitHub">
                            <i class="fab fa-github"></i>
                        </a>
                        <a href="#" class="social-link" aria-label="LinkedIn">
                            <i class="fab fa-linkedin"></i>
                        </a>
                        <a href="#" class="social-link" aria-label="Discord">
                            <i class="fab fa-discord"></i>
                        </a>
                    </div>
                    <p class="copyright">
                        © 2024 NexusTasks. All rights reserved.
                        <br>
                        <span class="version">v2.0.0</span>
                    </p>
                </div>
            </div>
        </footer>

        <!-- Floating Add Button -->
        <button id="floatingAddBtn" class="floating-btn" aria-label="Add new task">
            <i class="fas fa-plus"></i>
        </button>
    </div>

    <!-- Modals -->
    <div class="modal-overlay hidden" id="editModal" role="dialog" aria-labelledby="editModalTitle">
        <div class="modal-content glass-card">
            <h3 id="editModalTitle">Edit Task</h3>
            <form id="editForm">
                <input type="text" id="editTitle" required aria-label="Task title">
                <select id="editPriority" aria-label="Task priority">
                    <option value="low">Low Priority</option>
                    <option value="medium">Medium Priority</option>
                    <option value="high">High Priority</option>
                </select>
                <input type="date" id="editDueDate" aria-label="Due date">
                <textarea id="editDescription" rows="4" aria-label="Task description"></textarea>
                <div class="modal-buttons">
                    <button type="submit" class="btn-primary">Save Changes</button>
                    <button type="button" id="cancelEditBtn" class="btn-secondary">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <div class="modal-overlay hidden" id="confirmModal" role="dialog" aria-labelledby="confirmModalTitle">
        <div class="modal-content glass-card">
            <h3 id="confirmModalTitle">Confirm Action</h3>
            <p id="confirmMessage">Are you sure you want to proceed?</p>
            <div class="modal-buttons">
                <button id="confirmActionBtn" class="btn-danger">Confirm</button>
                <button id="cancelActionBtn" class="btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Export Format Modal -->
    <div class="modal-overlay hidden" id="exportModal" role="dialog" aria-labelledby="exportModalTitle">
        <div class="modal-content glass-card">
            <h3 id="exportModalTitle">Export Tasks</h3>
            <p>Choose export format:</p>
            <div class="export-options-modal">
                <button id="exportJsonModalBtn" class="btn-secondary">
                    <i class="fas fa-file-code"></i> JSON Format
                </button>
                <button id="exportExcelModalBtn" class="btn-secondary">
                    <i class="fas fa-file-excel"></i> Excel Format
                </button>
                <button id="exportCsvModalBtn" class="btn-secondary">
                    <i class="fas fa-file-csv"></i> CSV Format
                </button>
            </div>
            <div class="modal-buttons">
                <button id="cancelExportBtn" class="btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <!-- File Inputs (Hidden) -->
    <input type="file" id="fileImportJson" accept=".json" class="hidden">
    <input type="file" id="fileImportExcel" accept=".xlsx,.xls,.csv" class="hidden">

    <!-- Notification Toast -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Excel Library -->
    <script src="https://unpkg.com/xlsx/dist/xlsx.full.min.js"></script>
    <script src="app.js"></script>
</body>
</html>